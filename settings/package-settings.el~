(use-package 'smex)

    :ensure t
    :bind (("M-x" . smex))
    :bind (("M-X") . smex-major-mode-commands) 
    ;; This is your old M-x.
    :bind (("C-c C-c M-x") . execute-extended-command)
    :config (smex-initialize))
(provide 'package-settings)
